# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

**âš ï¸ IMPORTANT:** Writer agents should ALWAYS start with [[START-HERE.md]] instead of this file!

This file is for technical setup and reference. For content writing, use START-HERE.md.

---

## Repository Overview

This is an Obsidian vault serving as the operational hub for **inteles.ro** â€” a Romanian content platform specializing in dream interpretations and psychological/cultural explanations. The vault contains content strategy, article templates, monetization guides, MCP (Model Context Protocol) operations, and automation scripts.

**Core Purpose:** Enable rapid article creation, updates, SEO optimization, image sourcing, and affiliate link integration â€” all optimized for mobile-first readers (97.5% traffic).

---

## Common Development Tasks

### 1. Generate Affiliate Links from 2Performant API

**Command:**
```bash
cd /mnt/data/OBSIDIAN/inteles-vault
python scripts/twop/fetch_and_build.py --topics dream,sleep --out 04-Monetization/Auto-Generated-Affiliate-Links.md
```

**Prerequisites:**
- Python 3.9+
- Dependencies: `pip install -r scripts/twop/requirements.txt`
- `.env` file configured with 2Performant credentials (see `.env.example`)

**Environment Variables Required:**
- `TWO_P_EMAIL` â€” affiliate account email
- `TWO_P_PASSWORD` â€” affiliate password
- `TWO_P_AFF_CODE` â€” affiliate code (e.g., `80f42fe2f`)
- `TWO_P_BASE` â€” default `https://api.2performant.com`

**Output:** Markdown file with curated 2Performant quicklinks mapped to inteles.ro topics, ready to copy into resource boxes.

---

## Architecture & Key Directories

### Content & Strategy
- **`01-Project-Overview/`** â€” Project mission, target audience, core principles
- **`02-Content-Strategy/`** â€” SEO strategy, keyword mapping, content pillars
- **`06-Workflows/`** â€” SOP (Standard Operating Procedures) for article creation, updates, QA
- **`07-Templates/`** â€” Reusable article templates, HTML components, brief templates

### Monetization & Affiliate Management
- **`04-Monetization/`** â€” Affiliate program index, merchant mapping, 2Performant integration
  - `Auto-Generated-Affiliate-Links.md` â€” generated by Python script
  - `Affiliate-Programs-Index.md` â€” active merchants & commission rates
  - `Product-Mapping.md` â€” topic â†’ product associations

### MCP & Integrations
- **`03-MCP-Operations/`** â€” WordPress API operations, Pexels image workflow, REST API cheatsheet
  - `MCP-WordPress-Guide.md` â€” Commands to fetch, update, publish posts
  - `MCP-Pexels-Workflow.md` â€” Image search, alt text guidelines, WP upload automation

### Agent Context (Minimal Load Pack)
- **`00-AGENT-CONTEXT/`** â€” Lean reference files for AI agents (prefer loading these to reduce token usage)
  - `00-AGENT-README.md` â€” Load order & token optimization strategy
  - `01-CONTEXT-MANIFEST.md` â€” Exact files to load for writing/updating articles
  - `02-WRITING-RUBRIC.md` â€” 10-point quality checklist (must score â‰¥7/10 before publishing)
  - `05-HTML-MIN.md` â€” Minimal inline CSS templates (resource boxes, info boxes, FAQ blocks)

### Scripts & Automation
- **`scripts/twop/`** â€” Python scripts for 2Performant API integration
  - `fetch_and_build.py` â€” Main entry point; generates affiliate link markdown
  - `two_performant_client.py` â€” API client wrapper
  - `product_sources.py` â€” Merchant product definitions
  - `quicklink.py` â€” 2Performant deeplink generator

### Tracking & Dashboards
- **`09-Tracking/`** â€” Article pipeline, publishing logs
- **`08-Dashboards/`** â€” Control center, documentation map
- **`12-Recent-Work-Sessions/`** â€” Session logs & work history

### Assets & Reference
- **`10-Assets/`** â€” Image library, alt text guidelines
- **`05-Design-Patterns/`** â€” Design tokens, HTML snippets library
- **`11-Source-Docs/`** â€” Reference originals (load only when explicitly needed)

---

## Content Writing Quality Standards

All articles must score **â‰¥7/10** on the Writing Rubric before publishing:

1. **Intent** â€” Quick answer in first 2â€“3 paragraphs
2. **Depth** â€” Real insight (psychological/cultural; avoid surface-level)
3. **Structure** â€” H2/H3 every 300â€“400 words; concise lists
4. **Length** â€” 2,000â€“2,500 words; no filler
5. **Mobile** â€” Short paragraphs, clear spacing, no complex tables
6. **Credibility** â€” Cite 1â€“2 reputable sources (WHO, Jung, Freud, Wikipedia RO)
7. **FAQs** â€” â‰¥6 Q&A blocks with schema.org markup
8. **Images** â€” 1â€“2 helpful visuals with strong Romanian alt text
9. **Monetization** â€” Max 2 contextual affiliate links in green resource box + disclosure
10. **Language** â€” Romanian diacritics; professional, empathetic tone; no AI-tells

---

## Article Structure Template

For **dream interpretations** (standard format):

1. **Intro + Quick Answer** (2â€“3 paragraphs)
2. **H2: Basic Meaning** â€” Plain language explanation
3. **H2: Psychological Perspective** â€” Jung or Freud insights
4. **H2: Common Scenarios** â€” 3â€“6 concrete, brief scenarios
5. **H2: Romanian Traditions/Folklore** â€” Cultural context (if relevant)
6. **H2: Resources for Deeper Learning** â€” 1â€“2 affiliate links in green box
7. **H2: Frequently Asked Questions** â€” 6+ Q&A with schema
8. **Conclusion** â€” Brief recap + credible sources

---

## HTML Components (Inline CSS)

### Resource Box (Monetization)
```html
<div style="background:#E8F5E9;border-left:4px solid #4CAF50;padding:20px;margin:25px 0;border-radius:8px;box-shadow:0 3px 12px rgba(0,0,0,0.06)">
  <h3 style="margin:0 0 8px;color:#2E7D32">ğŸ“š Resurse pentru aprofundare</h3>
  <p style="margin:0 0 6px">For deeper learning, <a href="[AFFILIATE_URL]" target="_blank" rel="noopener">[Resource Name]</a> offers valuable insights.</p>
  <p style="font-size:.85rem;color:#666;margin:10px 0 0"><em>Link afiliat â€” cÃ¢È™tigÄƒm un mic comision fÄƒrÄƒ costuri pentru tine.</em></p>
</div>
```

### Info Box (Learning)
```html
<div style="background:#FFF3E0;border-left:4px solid #FF6F00;padding:20px;margin:25px 0;border-radius:8px;box-shadow:0 3px 12px rgba(0,0,0,0.06)">
  <h3 style="margin:0 0 10px;color:#E65100">ğŸ“‹ Ce vei afla</h3>
  <ul style="margin:0;line-height:1.8">
    <li>Point 1</li>
    <li>Point 2</li>
    <li>Point 3</li>
  </ul>
</div>
```

See `07-Templates/HTML-Resource-Box` and `05-Design-Patterns/HTML-Snippets-Library` for full component library.

---

## Workflow: Create or Update Article

### Quick Checklist

1. **Load minimal context** â†’ `00-AGENT-CONTEXT/01-CONTEXT-MANIFEST.md` (decide what files to load)
2. **Prepare brief** â†’ Use `07-Templates/ARTICLE-BRIEF-TEMPLATE` before writing
3. **Write article** â†’ Follow SOP + Writing Rubric
4. **Source images** â†’ Use `03-MCP-Operations/MCP-Pexels-Workflow` (search, alt text, upload)
5. **Add affiliate links** â†’ Scan `04-Monetization/MASTER-PRODUCTS-LIST.md` and pick 1-2 best-fit products
6. **Generate/upload to WordPress** â†’ Use `03-MCP-Operations/MCP-WordPress-Guide`
7. **Update tracking** â†’ Log in `09-Tracking/Article-Pipeline` & `12-Recent-Work-Sessions/`
8. **QA** â†’ Score on Writing Rubric; fix if <7/10

---

## Philosophy & Tone

- **Quick answer first** â†’ depth â†’ examples â†’ FAQ â†’ resources
- **Professional & empathetic** â€” no hype, no manipulation
- **Mobile-optimized** â€” short paragraphs, frequent subheadings, clear spacing
- **Balanced monetization** â€” 1â€“2 affiliate links max; always disclose
- **SEO healthy** â€” natural keyword integration (0.5â€“1% for main term), no stuffing
- **Credible sourcing** â€” cite psychology, culture, reputable sources
- **No AI tells** â€” avoid filler phrases ("It's important to noteâ€¦", "In conclusion we can sayâ€¦"), use natural Romanian

---

## Key Files Reference

| Task | File |
|------|------|
| Article SOP & components | `06-Workflows/SOP-INTeles.ro-Content-Operations` |
| Writing quality checklist | `00-AGENT-CONTEXT/02-WRITING-RUBRIC` |
| Content strategy & SEO | `02-Content-Strategy/Content-Strategy` |
| WordPress MCP operations | `03-MCP-Operations/MCP-WordPress-Guide` |
| Pexels image workflow | `03-MCP-Operations/MCP-Pexels-Workflow` |
| **â­ Affiliate products (MASTER)** | **`04-Monetization/MASTER-PRODUCTS-LIST`** |
| HTML components | `05-Design-Patterns/HTML-Snippets-Library` |
| Article templates | `07-Templates/Templates-Index` |
| Article pipeline tracker | `09-Tracking/Article-Pipeline` |
| Minimal context load | `00-AGENT-CONTEXT/00-AGENT-README` |

---

## Environment Setup

1. **Python dependencies:**
   ```bash
   pip install -r scripts/twop/requirements.txt
   ```

2. **Environment file:**
   - Copy `.env.example` to `.env`
   - Fill in 2Performant credentials

3. **Verify setup:**
   ```bash
   python scripts/twop/fetch_and_build.py --help
   ```

---

## Notes for Future Claude Instances

- **Minimize context loading** â€” Load only files from `00-AGENT-CONTEXT/` unless explicitly needed
- **Mobile-first mindset** â€” 97.5% of traffic is mobile; short paragraphs, frequent breaks
- **Quality over speed** â€” Use the Writing Rubric; articles <7/10 should be reworked before publishing
- **Affiliate integrity** â€” 1â€“2 links max, always clearly disclosed, must be contextual
- **Language:** Romanian content must maintain proper diacritics and tone (professional, empathetic, non-manipulative)
- **Source credibility** â€” Always cite sources (Jung, Freud, WHO, Wikipedia RO) when claiming psychological/cultural insights
